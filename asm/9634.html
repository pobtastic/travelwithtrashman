<!DOCTYPE html>
<html>
<head>
<title>Travel With Trashman: Routine at 9634</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="9619.html">9619</a>
</td>
<td class="up">Up: <a href="../maps/all.html#9634">Map</a></td>
<td class="next">
Next: <a href="96FE.html">96FE</a>
</td>
</tr>
</table>
<div class="description">9634: Routine at 9634</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="9270.html">9270</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="9634"></span>9634</td>
<td class="instruction">LD A,($7207)</td>
<td class="comment-1" rowspan="3">Return if *<a href="6000.html#7207">7207</a> is not equal to 01.</td>
</tr>
<tr>
<td class="address-1"><span id="9637"></span>9637</td>
<td class="instruction">CP $01</td>
</tr>
<tr>
<td class="address-1"><span id="9639"></span>9639</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="963a"></span>963A</td>
<td class="instruction">LD HL,$99A4</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="9969.html#99a4">99A4</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="963d"></span>963D</td>
<td class="instruction">LD IX,$7200</td>
<td class="comment-1" rowspan="1"><span class="register">IX</span>=<a href="6000.html#7200">7200</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="9641"></span>9641</td>
<td class="instruction">DEC (HL)</td>
<td class="comment-1" rowspan="1">Decrease *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="9642"></span>9642</td>
<td class="instruction">JR NZ,<a href="9634.html#9679">$9679</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="9634.html#9679">9679</a> if *<span class="register">HL</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="9644"></span>9644</td>
<td class="instruction">LD (HL),$05</td>
<td class="comment-1" rowspan="1">Write 05 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="9646"></span>9646</td>
<td class="instruction">LD A,($99A3)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="9969.html#99a3">99A3</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="9649"></span>9649</td>
<td class="instruction">CP $00</td>
<td class="comment-1" rowspan="2">Jump to <a href="9634.html#965b">965B</a> if <span class="register">A</span> is equal to 00.</td>
</tr>
<tr>
<td class="address-1"><span id="964b"></span>964B</td>
<td class="instruction">JR Z,<a href="9634.html#965b">$965B</a></td>
</tr>
<tr>
<td class="address-1"><span id="964d"></span>964D</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="964e"></span>964E</td>
<td class="instruction">LD ($99A3),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="9969.html#99a3">99A3</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="9651"></span>9651</td>
<td class="instruction">JR NZ,<a href="9634.html#965b">$965B</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="9634.html#965b">965B</a> if <span class="register">A</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="9653"></span>9653</td>
<td class="instruction">LD C,$40</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=40.</td>
</tr>
<tr>
<td class="address-1"><span id="9655"></span>9655</td>
<td class="instruction">LD HL,$50C0</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=50C0 (screen buffer location).</td>
</tr>
<tr>
<td class="address-1"><span id="9658"></span>9658</td>
<td class="instruction">CALL <a href="8A61.html#8a76">ClearScreenArea</a></td>
<td class="comment-1" rowspan="1">Call <a href="8A61.html#8a76">ClearScreenArea</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="965b"></span>965B</td>
<td class="instruction">LD HL,$99D9</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="99C4.html#99d9">99D9</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="965e"></span>965E</td>
<td class="instruction">LD A,($99AB)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="9969.html#99ab">99AB</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="9661"></span>9661</td>
<td class="instruction">SRL A</td>
<td class="comment-1" rowspan="4">Shift <span class="register">A</span> right four positions.</td>
</tr>
<tr>
<td class="address-1"><span id="9663"></span>9663</td>
<td class="instruction">SRL A</td>
</tr>
<tr>
<td class="address-1"><span id="9665"></span>9665</td>
<td class="instruction">SRL A</td>
</tr>
<tr>
<td class="address-1"><span id="9667"></span>9667</td>
<td class="instruction">SRL A</td>
</tr>
<tr>
<td class="address-1"><span id="9669"></span>9669</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="1">Increment <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="966a"></span>966A</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="966b"></span>966B</td>
<td class="instruction">LD DE,$EFF7</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=<a href="EFF7.html">ActivePlayerCash_01</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="966e"></span>966E</td>
<td class="instruction">LD B,$02</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=02.</td>
</tr>
<tr>
<td class="address-1"><span id="9670"></span>9670</td>
<td class="instruction">CALL <a href="96FE.html">SpendMoney</a></td>
<td class="comment-1" rowspan="1">Call <a href="96FE.html">SpendMoney</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="9673"></span>9673</td>
<td class="instruction">JR C,<a href="9634.html#96eb">$96EB</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="9634.html#96eb">96EB</a> if <span class="register">A</span> is lower.</td>
</tr>
<tr>
<td class="address-1"><span id="9675"></span>9675</td>
<td class="instruction">SET 1,(IX+$00)</td>
<td class="comment-1" rowspan="1">Set bit 1 of *<span class="register">IX</span>+00.</td>
</tr>
<tr>
<td class="address-2"><span id="9679"></span>9679</td>
<td class="instruction">BIT 0,(IX+$00)</td>
<td class="comment-1" rowspan="1">Test bit 0 of *<span class="register">IX</span>+00.</td>
</tr>
<tr>
<td class="address-1"><span id="967d"></span>967D</td>
<td class="instruction">JR Z,<a href="9634.html#96b1">$96B1</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="9634.html#96b1">96B1</a> if <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="967f"></span>967F</td>
<td class="instruction">LD DE,$EFF7</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=<a href="EFF7.html">ActivePlayerCash_01</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="9682"></span>9682</td>
<td class="instruction">LD HL,$99DB</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="99C4.html#99db">99DB</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="9685"></span>9685</td>
<td class="instruction">LD B,$02</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=02.</td>
</tr>
<tr>
<td class="address-1"><span id="9687"></span>9687</td>
<td class="instruction">CALL <a href="9708.html">AddMoney</a></td>
<td class="comment-1" rowspan="1">Call <a href="9708.html">AddMoney</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="968a"></span>968A</td>
<td class="instruction">LD DE,$EFF4</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=<a href="EFF4.html">ActivePlayerScore</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="968d"></span>968D</td>
<td class="instruction">LD HL,$99DD</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="99C4.html#99dd">99DD</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="9690"></span>9690</td>
<td class="instruction">LD B,$03</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=03.</td>
</tr>
<tr>
<td class="address-1"><span id="9692"></span>9692</td>
<td class="instruction">CALL <a href="9708.html">AddMoney</a></td>
<td class="comment-1" rowspan="1">Call <a href="9708.html">AddMoney</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="9695"></span>9695</td>
<td class="instruction">LD DE,$4021</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=4021 (screen buffer location).</td>
</tr>
<tr>
<td class="address-1"><span id="9698"></span>9698</td>
<td class="instruction">LD BC,$0203</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=0203.</td>
</tr>
<tr>
<td class="address-1"><span id="969b"></span>969B</td>
<td class="instruction">LD HL,$EFF6</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="EFF4.html#eff6">EFF6</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="969e"></span>969E</td>
<td class="instruction">CALL <a href="9712.html">PrintNumbers</a></td>
<td class="comment-1" rowspan="1">Call <a href="9712.html">PrintNumbers</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96a1"></span>96A1</td>
<td class="instruction">LD HL,$99AD</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="9969.html#99ad">99AD</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96a4"></span>96A4</td>
<td class="instruction">DEC (HL)</td>
<td class="comment-1" rowspan="1">Decrease *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="96a5"></span>96A5</td>
<td class="instruction">JR NZ,<a href="9634.html#96b1">$96B1</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="9634.html#96b1">96B1</a> if *<span class="register">HL</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="96a7"></span>96A7</td>
<td class="instruction">LD HL,$EFFA</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="EFFA.html">GameState_1</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96aa"></span>96AA</td>
<td class="instruction">SET 0,(HL)</td>
<td class="comment-1" rowspan="1">Set bit 0 of *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="96ac"></span>96AC</td>
<td class="instruction">LD SP,($99AE)</td>
<td class="comment-1" rowspan="1"><span class="register">SP</span>=*<a href="9969.html#99ae">99AE</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96b0"></span>96B0</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="96b1"></span>96B1</td>
<td class="instruction">BIT 4,(IX+$00)</td>
<td class="comment-1" rowspan="1">Test bit 4 of *<span class="register">IX</span>+00.</td>
</tr>
<tr>
<td class="address-1"><span id="96b5"></span>96B5</td>
<td class="instruction">JR NZ,<a href="9634.html#96bf">$96BF</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="9634.html#96bf">96BF</a> if *<span class="register">HL</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="96b7"></span>96B7</td>
<td class="instruction">BIT 1,(IX+$00)</td>
<td class="comment-1" rowspan="1">Test bit 1 of *<span class="register">IX</span>+00.</td>
</tr>
<tr>
<td class="address-1"><span id="96bb"></span>96BB</td>
<td class="instruction">JR Z,<a href="9634.html#96e6">$96E6</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="9634.html#96e6">96E6</a> if *<span class="register">HL</span> is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="96bd"></span>96BD</td>
<td class="instruction">JR <a href="9634.html#96da">$96DA</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="9634.html#96da">96DA</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="96bf"></span>96BF</td>
<td class="instruction">LD DE,$EFF7</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=<a href="EFF7.html">ActivePlayerCash_01</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96c2"></span>96C2</td>
<td class="instruction">LD HL,$99E0</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="99C4.html#99e0">99E0</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96c5"></span>96C5</td>
<td class="instruction">LD B,$02</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=02.</td>
</tr>
<tr>
<td class="address-1"><span id="96c7"></span>96C7</td>
<td class="instruction">CALL <a href="96FE.html">SpendMoney</a></td>
<td class="comment-1" rowspan="1">Call <a href="96FE.html">SpendMoney</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96ca"></span>96CA</td>
<td class="instruction">JR C,<a href="9634.html#96eb">$96EB</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="9634.html#96eb">96EB</a> if *<span class="register">HL</span> is lower.</td>
</tr>
<tr>
<td class="address-1"><span id="96cc"></span>96CC</td>
<td class="instruction">LD HL,$99A3</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="9969.html#99a3">99A3</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96cf"></span>96CF</td>
<td class="instruction">LD (HL),$05</td>
<td class="comment-1" rowspan="1">Write 05 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="96d1"></span>96D1</td>
<td class="instruction">LD HL,($99D7)</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=*<a href="99C4.html#99d7">99D7</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96d4"></span>96D4</td>
<td class="instruction">LD DE,$50C0</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=50C0 (screen buffer location).</td>
</tr>
<tr>
<td class="address-1"><span id="96d7"></span>96D7</td>
<td class="instruction">CALL <a href="9754.html">$9754</a></td>
<td class="comment-1" rowspan="1">Call <a href="9754.html">9754</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="96da"></span>96DA</td>
<td class="instruction">LD DE,$403B</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=403B (screen buffer location).</td>
</tr>
<tr>
<td class="address-1"><span id="96dd"></span>96DD</td>
<td class="instruction">LD BC,$0202</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=0202.</td>
</tr>
<tr>
<td class="address-1"><span id="96e0"></span>96E0</td>
<td class="instruction">LD HL,$EFF8</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="EFF7.html#eff8">ActivePlayerCash_02</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96e3"></span>96E3</td>
<td class="instruction">CALL <a href="9712.html">PrintNumbers</a></td>
<td class="comment-1" rowspan="1">Call <a href="9712.html">PrintNumbers</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="96e6"></span>96E6</td>
<td class="instruction">LD (IX+$00),$00</td>
<td class="comment-1" rowspan="1">Write 00 to *<span class="register">IX</span>+00.</td>
</tr>
<tr>
<td class="address-1"><span id="96ea"></span>96EA</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="96eb"></span>96EB</td>
<td class="instruction">LD HL,$0000</td>
<td class="comment-1" rowspan="2">Write 0000 to *<a href="EFF7.html">ActivePlayerCash_01</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96ee"></span>96EE</td>
<td class="instruction">LD ($EFF7),HL</td>
</tr>
<tr>
<td class="address-1"><span id="96f1"></span>96F1</td>
<td class="instruction">CALL <a href="9634.html#96da">$96DA</a></td>
<td class="comment-1" rowspan="1">Call <a href="9634.html#96da">96DA</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96f4"></span>96F4</td>
<td class="instruction">LD HL,$EFFA</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="EFFA.html">GameState_1</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96f7"></span>96F7</td>
<td class="instruction">SET 4,(HL)</td>
<td class="comment-1" rowspan="1">Set bit 4 of *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="96f9"></span>96F9</td>
<td class="instruction">LD SP,($99AE)</td>
<td class="comment-1" rowspan="1"><span class="register">SP</span>=*<a href="9969.html#99ae">99AE</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="96fd"></span>96FD</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="9619.html">9619</a>
</td>
<td class="up">Up: <a href="../maps/all.html#9634">Map</a></td>
<td class="next">
Next: <a href="96FE.html">96FE</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1984 New Generation Software &copy; 2024 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.3.</div>
<div class="repository">Link to <a href="https://github.com/pobtastic/travelwithtrashman/">Source code</a>.</div>
<div><a href="asm/9634.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>