<!DOCTYPE html>
<html>
<head>
<title>Travel With Trashman: Routine at 883C</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="8830.html">8830</a>
</td>
<td class="up">Up: <a href="../maps/all.html#883c">Map</a></td>
<td class="next">
Next: <a href="894F.html">894F</a>
</td>
</tr>
</table>
<div class="description">883C: Handler: Sub-Game</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="8749.html">Handler_LocationChoice</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Handler_SubGame</td>
<td class="address-2"><span id="883c"></span>883C</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1">Discard the last entry on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="883d"></span>883D</td>
<td class="instruction">LD HL,($EFF2)</td>
<td class="comment-1" rowspan="3">Loads a pointer to the current players score and cash balance into <span class="register">HL</span>. The active player reference is via *<a href="EFF2.html">Pointer_ActivePlayer</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8840"></span>8840</td>
<td class="instruction">LD DE,$000A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8843"></span>8843</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8844"></span>8844</td>
<td class="instruction">LD DE,$EFF4</td>
<td class="comment-1" rowspan="3">Copy the 0005 bytes of data for the score and cash balance from *<span class="register">HL</span> to *<a href="EFF4.html">ActivePlayerScore</a>/ *<a href="EFF7.html">ActivePlayerCash_01</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8847"></span>8847</td>
<td class="instruction">LD BC,$0005</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="884a"></span>884A</td>
<td class="instruction">LDIR</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="884c"></span>884C</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="884d"></span>884D</td>
<td class="instruction">LD (HL),$00</td>
<td class="comment-1" rowspan="1">Write 00 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="884f"></span>884F</td>
<td class="instruction">LD HL,$EFFF</td>
<td class="comment-1" rowspan="2">Write 00 to *<a href="EFFF.html">EFFF</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8852"></span>8852</td>
<td class="instruction">LD (HL),$00</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8854"></span>8854</td>
<td class="instruction">CALL <a href="9052.html">Initialise_SubGame</a></td>
<td class="comment-1" rowspan="1">Call <a href="9052.html">Initialise_SubGame</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8857"></span>8857</td>
<td class="instruction">LD HL,$EFFF</td>
<td class="comment-1" rowspan="2">Write 01 to *<a href="EFFF.html">EFFF</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="885a"></span>885A</td>
<td class="instruction">LD (HL),$01</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="885c"></span>885C</td>
<td class="instruction">LD IX,($EFF2)</td>
<td class="comment-1" rowspan="1"><span class="register">IX</span>=<a href="EFF2.html">Pointer_ActivePlayer</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8860"></span>8860</td>
<td class="instruction">LD A,($EFF4)</td>
<td class="comment-1" rowspan="6">Copy the three bytes of *<a href="EFF4.html">ActivePlayerScore</a> to the current players score storage.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8863"></span>8863</td>
<td class="instruction">LD (IX+$0A),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8866"></span>8866</td>
<td class="instruction">LD A,($EFF5)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8869"></span>8869</td>
<td class="instruction">LD (IX+$0B),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="886c"></span>886C</td>
<td class="instruction">LD A,($EFF6)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="886f"></span>886F</td>
<td class="instruction">LD (IX+$0C),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8872"></span>8872</td>
<td class="instruction">LD HL,($EFF2)</td>
<td class="comment-1" rowspan="3">Loads a pointer to the current players cash balance into <span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8875"></span>8875</td>
<td class="instruction">LD DE,$000D</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8878"></span>8878</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8879"></span>8879</td>
<td class="instruction">LD DE,$EFF7</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=<a href="EFF7.html">ActivePlayerCash_01</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="887c"></span>887C</td>
<td class="instruction">LD BC,($EFF7)</td>
<td class="comment-1" rowspan="2">Stash *<a href="EFF7.html">ActivePlayerCash_01</a> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8880"></span>8880</td>
<td class="instruction">PUSH BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8881"></span>8881</td>
<td class="instruction">LD B,$02</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=02.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8883"></span>8883</td>
<td class="instruction">CALL <a href="96FE.html">SpendMoney</a></td>
<td class="comment-1" rowspan="1">Call <a href="96FE.html">SpendMoney</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8886"></span>8886</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8887"></span>8887</td>
<td class="instruction">LD (IX+$0D),C</td>
<td class="comment-1" rowspan="1">Write <span class="register">C</span> to *<span class="register">IX</span>+0D.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="888a"></span>888A</td>
<td class="instruction">LD (IX+$0E),B</td>
<td class="comment-1" rowspan="1">Write <span class="register">B</span> to *<span class="register">IX</span>+0E.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="888d"></span>888D</td>
<td class="instruction">JR C,<a href="883C.html#88ab">Handler_SubGame_0</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="883C.html#88ab">Handler_SubGame_0</a> if <span class="register">A</span> is lower.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="888f"></span>888F</td>
<td class="instruction">LD BC,($EFF7)</td>
<td class="comment-1" rowspan="4">Jump to <a href="883C.html#88ab">Handler_SubGame_0</a> if *<a href="EFF7.html">ActivePlayerCash_01</a> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8893"></span>8893</td>
<td class="instruction">LD A,B</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8894"></span>8894</td>
<td class="instruction">OR C</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8895"></span>8895</td>
<td class="instruction">JR Z,<a href="883C.html#88ab">Handler_SubGame_0</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8897"></span>8897</td>
<td class="instruction">LD DE,$FFFB</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>+=<a href="FFC7.html#fffb">FFFB</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="889a"></span>889A</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="889b"></span>889B</td>
<td class="instruction">LD DE,$EFF7</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=<a href="EFF7.html">ActivePlayerCash_01</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="889e"></span>889E</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="889f"></span>889F</td>
<td class="instruction">LD B,$03</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=03.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88a1"></span>88A1</td>
<td class="instruction">CALL <a href="9708.html">AddMoney</a></td>
<td class="comment-1" rowspan="1">Call <a href="9708.html">AddMoney</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88a4"></span>88A4</td>
<td class="instruction">LD HL,$EFFA</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="EFFA.html">GameState_1</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88a7"></span>88A7</td>
<td class="instruction">SET 1,(HL)</td>
<td class="comment-1" rowspan="1">Set bit 1 ("Has Bonus Points?") of *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88a9"></span>88A9</td>
<td class="instruction">RES 0,(HL)</td>
<td class="comment-1" rowspan="1">Reset bit 0 of *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label">Handler_SubGame_0</td>
<td class="address-2"><span id="88ab"></span>88AB</td>
<td class="instruction">LD HL,$EFFA</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="EFFA.html">GameState_1</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88ae"></span>88AE</td>
<td class="instruction">BIT 4,(HL)</td>
<td class="comment-1" rowspan="1">Test bit 4 of *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88b0"></span>88B0</td>
<td class="instruction">CALL Z,<a href="894F.html">Check_AffordToFly</a></td>
<td class="comment-1" rowspan="1">Call <a href="894F.html">Check_AffordToFly</a> zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88b3"></span>88B3</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88b4"></span>88B4</td>
<td class="instruction">AND %00111100</td>
<td class="comment-1" rowspan="1">Keep only bits 2-5.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88b6"></span>88B6</td>
<td class="instruction">JR Z,<a href="883C.html#88cd">Handler_SubGame_2</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="883C.html#88cd">Handler_SubGame_2</a> if <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88b8"></span>88B8</td>
<td class="instruction">AND %00000100</td>
<td class="comment-1" rowspan="1">Keep only bits 2.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88ba"></span>88BA</td>
<td class="instruction">JR NZ,<a href="883C.html#88c2">Handler_SubGame_1</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="883C.html#88c2">Handler_SubGame_1</a> if <span class="register">A</span> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88bc"></span>88BC</td>
<td class="instruction">RES 7,(IX+$0F)</td>
<td class="comment-1" rowspan="1">Reset bit 7 of *<span class="register">IX</span>+0F.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88c0"></span>88C0</td>
<td class="instruction">JR <a href="883C.html#88fc">Handler_SubGame_5</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="883C.html#88fc">Handler_SubGame_5</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_SubGame_1</td>
<td class="address-2"><span id="88c2"></span>88C2</td>
<td class="instruction">LD BC,$8E82</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=<a href="8E82.html">London_Location</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88c5"></span>88C5</td>
<td class="instruction">LD (IX+$08),C</td>
<td class="comment-1" rowspan="1">Write <span class="register">C</span> to *<span class="register">IX</span>+08.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88c8"></span>88C8</td>
<td class="instruction">LD (IX+$09),B</td>
<td class="comment-1" rowspan="1">Write <span class="register">B</span> to *<span class="register">IX</span>+09.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88cb"></span>88CB</td>
<td class="instruction">JR <a href="883C.html#88fc">Handler_SubGame_5</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="883C.html#88fc">Handler_SubGame_5</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_SubGame_2</td>
<td class="address-2"><span id="88cd"></span>88CD</td>
<td class="instruction">LD A,(IX+$0F)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">IX</span>+0F.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88d0"></span>88D0</td>
<td class="instruction">AND %00000011</td>
<td class="comment-1" rowspan="1">Keep only bits 0-1.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88d2"></span>88D2</td>
<td class="instruction">LD L,(IX+$08)</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=*<span class="register">IX</span>+08.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88d5"></span>88D5</td>
<td class="instruction">LD H,(IX+$09)</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=*<span class="register">IX</span>+09.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88d8"></span>88D8</td>
<td class="instruction">LD BC,$0010</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>+=0010.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88db"></span>88DB</td>
<td class="instruction">ADD HL,BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88dc"></span>88DC</td>
<td class="instruction">LD C,A</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88dd"></span>88DD</td>
<td class="instruction">XOR (HL)</td>
<td class="comment-1" rowspan="1">Flip the bits according to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88de"></span>88DE</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88df"></span>88DF</td>
<td class="instruction">LD HL,$8E92</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="8E82.html#8e92">London_State</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88e2"></span>88E2</td>
<td class="instruction">LD DE,$0011</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=0011.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88e5"></span>88E5</td>
<td class="instruction">LD B,$0E</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=0E.</td>
</tr>
<tr>
<td class="asm-label">Handler_SubGame_3</td>
<td class="address-2"><span id="88e7"></span>88E7</td>
<td class="instruction">LD A,C</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88e8"></span>88E8</td>
<td class="instruction">AND (HL)</td>
<td class="comment-1" rowspan="1">Merge the bits from *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88e9"></span>88E9</td>
<td class="instruction">JR Z,<a href="883C.html#88fc">Handler_SubGame_5</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="883C.html#88fc">Handler_SubGame_5</a> if <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="asm-label">Handler_SubGame_4</td>
<td class="address-2"><span id="88eb"></span>88EB</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88ec"></span>88EC</td>
<td class="instruction">BIT 7,(HL)</td>
<td class="comment-1" rowspan="1">Test bit 7 of *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88ee"></span>88EE</td>
<td class="instruction">JR Z,<a href="883C.html#88eb">Handler_SubGame_4</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="883C.html#88eb">Handler_SubGame_4</a> if <span class="register">HL</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88f0"></span>88F0</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88f1"></span>88F1</td>
<td class="instruction">DJNZ <a href="883C.html#88e7">Handler_SubGame_3</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="883C.html#88e7">Handler_SubGame_3</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88f3"></span>88F3</td>
<td class="instruction">LD HL,$EFFA</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="EFFA.html">GameState_1</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88f6"></span>88F6</td>
<td class="instruction">SET 6,(HL)</td>
<td class="comment-1" rowspan="1">Set bit 6 of *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88f8"></span>88F8</td>
<td class="instruction">RES 7,(IX+$0F)</td>
<td class="comment-1" rowspan="1">Reset bit 7 of *<span class="register">IX</span>+0F.</td>
</tr>
<tr>
<td class="asm-label">Handler_SubGame_5</td>
<td class="address-2"><span id="88fc"></span>88FC</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="88fd"></span>88FD</td>
<td class="instruction">CALL <a href="8146.html">Print_WorldMap</a></td>
<td class="comment-1" rowspan="1">Call <a href="8146.html">Print_WorldMap</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8900"></span>8900</td>
<td class="instruction">CALL <a href="8600.html">Print_Header</a></td>
<td class="comment-1" rowspan="1">Call <a href="8600.html">Print_Header</a>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="8903"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="8666.html">ChooseLocationOrTakeJob</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Handler_SubGame_6</td>
<td class="address-2"><span id="8903"></span>8903</td>
<td class="instruction">CALL <a href="823B.html">Messaging_GenerateTicker</a></td>
<td class="comment-1" rowspan="1">Call <a href="823B.html">Messaging_GenerateTicker</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_SubGame_7</td>
<td class="address-2"><span id="8906"></span>8906</td>
<td class="instruction">LD B,$01</td>
<td class="comment-1" rowspan="2">Call <a href="8055.html">8055</a> with a count of 01.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8908"></span>8908</td>
<td class="instruction">CALL <a href="8055.html">$8055</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="890b"></span>890B</td>
<td class="instruction">LD HL,$EFFB</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="EFFB.html">GameState_2</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="890e"></span>890E</td>
<td class="instruction">BIT 0,(HL)</td>
<td class="comment-1" rowspan="1">Test bit 0 ("Ticker On/ Off") of *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8910"></span>8910</td>
<td class="instruction">JR NZ,<a href="883C.html#8906">Handler_SubGame_7</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="883C.html#8906">Handler_SubGame_7</a> if <span class="register">HL</span> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8912"></span>8912</td>
<td class="instruction">LD IX,($EFF2)</td>
<td class="comment-1" rowspan="1"><span class="register">IX</span>=<a href="EFF2.html">Pointer_ActivePlayer</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8916"></span>8916</td>
<td class="instruction">BIT 7,(IX+$0F)</td>
<td class="comment-1" rowspan="2">Call <a href="8A84.html">HighScoreTable</a> if bit 7 of *<span class="register">IX</span>+0F is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="891a"></span>891A</td>
<td class="instruction">CALL Z,<a href="8A84.html">HighScoreTable</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="891d"></span>891D</td>
<td class="instruction">CALL <a href="85CE.html">Toggle_Players</a></td>
<td class="comment-1" rowspan="1">Call <a href="85CE.html">Toggle_Players</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8920"></span>8920</td>
<td class="instruction">JP NZ,<a href="8003.html#802c">GameLoop</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="8003.html#802c">GameLoop</a> if <span class="register">HL</span> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8923"></span>8923</td>
<td class="instruction">CALL <a href="85CE.html">Toggle_Players</a></td>
<td class="comment-1" rowspan="1">Call <a href="85CE.html">Toggle_Players</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8926"></span>8926</td>
<td class="instruction">JP NZ,<a href="8003.html#802c">GameLoop</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="8003.html#802c">GameLoop</a> if <span class="register">HL</span> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8929"></span>8929</td>
<td class="instruction">LD HL,$EFFB</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="EFFB.html">GameState_2</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="892c"></span>892C</td>
<td class="instruction">BIT 6,(HL)</td>
<td class="comment-1" rowspan="1">Test bit 6 of *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="892e"></span>892E</td>
<td class="instruction">CALL Z,<a href="8A84.html#8ae1">HighScoreTable_6</a></td>
<td class="comment-1" rowspan="1">Call <a href="8A84.html#8ae1">HighScoreTable_6</a> zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8931"></span>8931</td>
<td class="instruction">CALL <a href="8A61.html">ClearMenuScreenAreas</a></td>
<td class="comment-1" rowspan="1">Call <a href="8A61.html">ClearMenuScreenAreas</a>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="8934"></span>
<div class="comments">
<div class="paragraph">
Prints "Change of control".
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8934"></span>8934</td>
<td class="instruction">LD HL,$8E34</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="8E34.html">Messaging_ChangeControls</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8937"></span>8937</td>
<td class="instruction">LD DE,$5069</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=5069 (screen buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="893a"></span>893A</td>
<td class="instruction">CALL <a href="8A3D.html">Print_String</a></td>
<td class="comment-1" rowspan="1">Call <a href="8A3D.html">Print_String</a>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="893d"></span>
<div class="comments">
<div class="paragraph">
Prints "or players reqd.".
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="893d"></span>893D</td>
<td class="instruction">LD HL,$8E45</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="8E45.html">Messaging_ChangePlayers</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8940"></span>8940</td>
<td class="instruction">LD DE,$5089</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=5089 (screen buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8943"></span>8943</td>
<td class="instruction">CALL <a href="8A3D.html">Print_String</a></td>
<td class="comment-1" rowspan="1">Call <a href="8A3D.html">Print_String</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8946"></span>8946</td>
<td class="instruction">CALL <a href="8519.html">Select_Yes/No</a></td>
<td class="comment-1" rowspan="1">Call <a href="8519.html">Select_Yes/No</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="8949"></span>8949</td>
<td class="instruction">JP C,<a href="8003.html#800f">ShowMenu</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="8003.html#800f">ShowMenu</a> if <span class="register">HL</span> is lower.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="894c"></span>894C</td>
<td class="instruction">JP <a href="8003.html#8026">NewGame</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="8003.html#8026">NewGame</a>.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="8830.html">8830</a>
</td>
<td class="up">Up: <a href="../maps/all.html#883c">Map</a></td>
<td class="next">
Next: <a href="894F.html">894F</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1984 New Generation Software &copy; 2024 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.3.</div>
<div class="repository">Link to <a href="https://github.com/pobtastic/travelwithtrashman/">Source code</a>.</div>
<div><a href="asm/883C.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>